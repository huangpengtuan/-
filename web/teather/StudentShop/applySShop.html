<!--创建店铺-->
<form id="form" class="form-horizontal">
	<div class="Asshop">
		<div class="CNavigation">
			<i class="icon-direction-right CNfloat-left" ng-click='goback()'>&nbsp;&nbsp;创建店铺</i>
		</div>	
		<section class="Asshop_A">
			<div ng-click='fileImgShow()' id="result"></div>
			<input type="hidden" value=""  name="field_name" id="fileData"/>
		</section>
		<!--图片上传插件-->
		<div id="fileimg">
			<div class="actions"> 
			 	<button class="file-btn"> 
			  		<span class="upimgbtn">选择头像</span> 
			  		<input type="file" id="upload"/> 			  		
			    </button> 
				<div class="crop"> 
				  <div id="upload-demo"></div> 
				  <button class="upload-result">确&nbsp;&nbsp;定</button>
				</div> 
			</div>		
		</div>
		
		<section class="Asshop_B">
			<div class="YYList01 border-bottom1">
				<div class="YYList_L">店铺名称</div>
				<input type="text" name="cram.class_name" id="class_name" value="" class="YYList_R" placeholder="填写你的店铺名称"/>
			</div>
			<div class="YYList01">
				<div class="YYList_L">店铺类型</div>
			</div>
			<div class="YYList02 border-bottom1">
				<input type="hidden" name="cram.school_type" id="school_type" value="" />
				<div class="YYList_btn">
					<i class="icon-yuan06 ToggBtn" data_schoolType='1'></i>
					科目学习
				</div>
				<div class="YYList_btn">
					<i class="icon-yuan06 ToggBtn" data_schoolType='2'></i>
					琴棋书画
				</div>
				<div class="YYList_btn">
					<i class="icon-yuan06 ToggBtn" data_schoolType='3'></i>
					舞蹈健身
				</div>
				<div class="YYList_btn">
					<i class="icon-yuan06 ToggBtn" data_schoolType='4'></i>
					外教专区
				</div>			
			</div>
			<!--地址-->
			<div class="YYList01 border-bottom1" id="select_contact">
				<div class="YYList_L">店铺地址</div>
		        <input type="hidden" name="contact_province_code" id="contact_province_code" value="" data-id="0001" data-province-name="">                
		        <input type="hidden" name="cram.area_id" id="contact_city_code" value="" data-city-name="">
		        
				<!--经度隐藏框-->
				<input type="hidden" class="" id="lat" value="{{lat}}" name="cram.lat">
				<!--纬度隐藏框-->
				<input type="hidden" class="" id="lng" value="{{lng}}" name="cram.lng">	        
		        
				<i class="icon-direction-left YYList_Img"></i>
				<div class="YYList_R textcolorgray" data-city-code="" data-province-code="" data-district-code="" id="show_contact">请选择</div>
				<!--select_contact-->
			</div>	
			<!--腾讯地图膜态框-->
			<div id="tencent">
				<iframe id="mapPage" width="100%" height="100%" frameborder=0 
				    src="http://apis.map.qq.com/tools/locpicker?search=1&type=1&key=6W5BZ-DI2KS-22LOE-6CGGS-MZI33-VKBQ4&referer=myapp">
				</iframe>			
			</div>		
			<!--手动输入详细地址-->
			<div class="YYList03">			
				<textarea type="text" name="cram.address" id='address' value="" class="YYList_allin" placeholder="请填写详细地址，不少于5个字"></textarea>
			</div>		
			<div class="xian05"></div>
			<div class="YYList01">
				<div class="YYList_L">店铺介绍</div>
			</div>		
			<div class="YYList03">			
				<textarea type="text" name="cram.about" id="about" value="" class="YYList_allin" placeholder="请填写你的店铺简介"></textarea>
			</div>	
			<div class="xian05"></div>	
			<div class="YYList01 border-bottom1">
				<div class="YYList_L">联系人</div>
				<input type="text" name="cram.teacher_name" id='teacher_name' value="" class="YYList_R" placeholder="填写你的姓名"/>
			</div>		
			<div class="YYList01 border-bottom1">
				<div class="YYList_L">联系电话</div>
				<input type="number" name="cram.teacher_phone" id="teacher_phone" value="" class="YYList_R" placeholder="填写你的电话"/>
			</div>	
			
			<div class="YYList05">缴纳保证金</div>
			<div class="YYList04">
				<div class="AC-Bondinout">￥300</div>			
				<div class="AC-Bond " ng-click='BondSH("#exampleModal")' data-toggle="modal" data-target="#exampleModal">保证金说明</div>
				
				<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel">
				  <div class="modal-dialog" role="document">
				    <div class="modal-content">
				      <div class="modal-header">
				        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
				        <h4 class="modal-title" id="exampleModalLabel">保证金说明：</h4>
				      </div>
				      <div class="modal-body">
						1.保证金的缴纳<br />
						缴纳保证金后您将有资格在第壹教育平台网上发布场地出租，开设店铺等信息。<br />
						<br />
						2.保证金的退还<br />
						保证金可随时退还，退还后您将不能再平台上发布场地出租及开设店铺。
				      </div>
				      <div class="modal-footer">
				        <button type="button" class="btn btn-default" data-dismiss="modal">关&nbsp;&nbsp;闭</button>			        
				      </div>
				    </div>
				  </div>
				</div>			
				
				<div class="clearfix"></div>
			</div>		
	
		</section>	
		
		
		
		<button ng-click='Release()' class="yuanyuanBTN01">提&nbsp;&nbsp;交</button>
		
		
		
		
		
		
	</div>
</form>



<!--头像上传插件-->
<script type="text/javascript" src="js/plugins/croppie.min.js" ></script>
<script>
	$(function(){ 
	 	var $uploadCrop; 
	  
	  	function readFile(input) { 
	    	if (input.files && input.files[0]) { 
		    	var reader = new FileReader(); 
		      
		    	reader.onload = function (e) { 
		     		$uploadCrop.croppie('bind', { 
		      			url: e.target.result 
		     		}); 
		    	} 	      
	    		reader.readAsDataURL(input.files[0]); 
	    	}else{ 
	    		alert("Sorry - you're browser doesn't support the FileReader API"); 
	    	} 
	  	} 
	  
	   	$uploadCrop = $('#upload-demo').croppie({ 
		   	viewport: { 
		    width: 200, 
		    height: 200, 
		    type: 'circle'
			}, 
		    boundary: { 
		    width: 300, 
		    height: 300 
		    } 
	  	}); 
	  
	  	$('#upload').on('change', function () { 
	   		$(".crop").show(); 
	   		readFile(this); 
	  	}); 
	  	$('.upload-result').on('click', function (ev) { 
		  	$('#fileimg').fadeOut();
		   	$uploadCrop.croppie('result', 'canvas').then(function (resp) { 
		    	popupResult({ 
		     	src: resp 
		    	}); 
	   		}); 
	  	}); 
	    
	 	function popupResult(result) { 
	  		var html; 
	  		if (result.html) { 
	   			html = result.html; 
	  		} 
	  		if (result.src) { 
	   			html = '<img src="' + result.src + '" />'; 
	   			$('#fileData').val(result.src);
	  		} 
	  		$("#result").html(html); 
	 	} 
	});
</script>



<!--地址插件----->
<script type="text/javascript" src="js/plugins/iscroll.js" ></script>
<script type="text/javascript" src="js/plugins/areaData_v2-yuan.js" ></script>
<script type="text/javascript" src="js/plugins/iosSelect.js" ></script>
<script type="text/javascript">
    var _hmt = _hmt || [];
    (function(){
    var hm = document.createElement("script");
    hm.src = "//hm.baidu.com/hm.js?b25bf95dd99f58452db28b1e99a1a46f";
    var s = document.getElementsByTagName("script")[0]; 
    s.parentNode.insertBefore(hm, s);
    })();
	
    var selectContactDom = $('#select_contact');
    var showContactDom = $('#show_contact');
    var contactProvinceCodeDom = $('#contact_province_code');
    var contactCityCodeDom = $('#contact_city_code');
    selectContactDom.bind('click', function () {
        var sccode = showContactDom.attr('data-city-code');
        var scname = showContactDom.attr('data-city-name');

        var oneLevelId = showContactDom.attr('data-province-code');
        var twoLevelId = showContactDom.attr('data-city-code');
        var threeLevelId = showContactDom.attr('data-district-code');
        var iosSelect = new IosSelect(3, 
            [iosProvinces, iosCitys, iosCountys],
            {
                title: '地址选择',
                itemHeight: 35,
                relation: [1, 1, 0, 0],
                oneLevelId: oneLevelId,
                twoLevelId: twoLevelId,
                threeLevelId: threeLevelId,
                callback: function (selectOneObj, selectTwoObj, selectThreeObj) {
                    contactProvinceCodeDom.val(selectOneObj.id); 
                    contactProvinceCodeDom.attr('data-province-name', selectOneObj.value);
                    contactCityCodeDom.val(selectTwoObj.id);
                    contactCityCodeDom.attr('data-city-name', selectTwoObj.value);

                    showContactDom.attr('data-province-code', selectOneObj.id);
                    showContactDom.attr('data-city-code', selectTwoObj.id);
                    showContactDom.attr('data-district-code', selectThreeObj.id);
                    showContactDom.html(selectOneObj.value + ' ' + selectTwoObj.value + ' ' + selectThreeObj.value);
                    $('#tencent').fadeIn();
                }
        });
        
        
    });
</script>













